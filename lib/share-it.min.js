(function(){var t,e=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};window.ShareIt=t=function(){function t(){null==window.sharingButtons&&(window.sharingButtons={}),this.clearWidgets(),this.init()}var n,r,o,i,l;return i={url:window.location.href.replace(window.location.hash,""),title:document.title,counters:!0,titles:!0,window:!1,button_title:"Share to ",scheme:window.location.protocol.replace(":","")},null==window.VK&&(window.VK={}),window.VK.Share={count:function(t,e){var n;return n=document.getElementById("vkontakte-"+t+"-init-script"),null!=n&&n.remove(),r(document.getElementById("vkontakte-button-"+t),e)}},window.ODKL={updateCount:function(t,e){var n;return n=document.getElementById("odnoklassniki-"+t+"-init-script"),null!=n&&n.remove(),r(document.getElementById("odnoklassniki-button-"+t),e)}},l={linkedin:{url:"https://www.linkedin.com/shareArticle?url={{url}}&title={{title}}&summary={{description}}",counter_url:"https://www.linkedin.com/countserv/count/share?format=jsonp&url={{url}}",counter:0,title:"LinkedIn",attributes:["title","text","description"]},vkontakte:{url:"https://vk.com/share.php?url={{url}}&title={{title}}",counter_url:"https://vk.com/share.php?url={{url}}&act=count&index={{index}}",counter:0,title:"ВКонтакте",attributes:["title","text"],skip_gen_callback:!0},facebook:{url:"https://www.facebook.com/sharer/sharer.php?u={{url}}&title={{title}}",counter_url:"https://graph.facebook.com/?id={{url}}",type:"ajax",title:"Facebook",attributes:["title","text"],getter:function(t,e,r,o){return n.get(r,[],l[t].callback,!0,{element:e})},callback:function(t,e){if(t=JSON.parse(t||"{}"),null!=t.share&&null!=t.share.share_count)return r(e.element,t.share.share_count)}},twitter:{url:"https://twitter.com/intent/tweet?url={{url}}&text={{title}}",counter_url:"https://opensharecount.com/count.json?url={{url}}",counter:0,type:"ajax",title:"Twitter",attributes:["title","text"],getter:function(t,e,r,o){return n.get(r,[],l[t].callback,!0,{element:e})},callback:function(t,e){if(t=JSON.parse(t||"{}"),"undefined"!=typeof t.count)return r(e.element,t.count)}},"google-plus":{url:"https://plus.google.com/share?url={{url}}",counter_url:"https://clients6.google.com/rpc",type:"ajax",counter:0,title:"Google+",attributes:["title","text"],getter:function(t,e,r,o){var i;return i={method:"pos.plusones.get",id:t+"-button-"+window.sharingButtons[t],jsonrpc:"2.0",key:"p",apiVersion:"v1",params:{nolog:!0,id:o,source:"widget",userId:"@viewer",groupId:"@self"}},e.setAttribute("id",t+"-button-"+window.sharingButtons[t]),n.post(l[t].counter_url,i,l[t].callback,!0)},callback:function(t){if(t=JSON.parse(t||"{}"),null!=t.result.metadata.globalCounts.count)return r(document.getElementById(t.id),t.result.metadata.globalCounts.count)}},pinterest:{url:"https://pinterest.com/pin/create/button/?description={{title}}",counter_url:"https://api.pinterest.com/v1/urls/count.json?url={{url}}",counter:0,title:"Pinterest",attributes:["title","text"]},mailru:{url:"https://connect.mail.ru/share?url={{url}}&title={{title}}&description={{description}}",counter_url:i.scheme+"://connect.mail.ru/share_count?callback=1&url_list={{url}}",counter:0,title:"Mail.ru",callback_param:"func",attributes:["title","text","description"]},odnoklassniki:{url:"https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl={{url}}&st.title={{title}}&st.description={{description}}",counter_url:i.scheme+"://connect.ok.ru/dk?st.cmd=extLike&ref={{url}}&uid={{index}}",counter:0,title:"Odnoklassniki",attributes:["title","text"],skip_gen_callback:!0},tumblr:{url:"http://tumblr.com/widgets/share/tool?canonicalUrl={{url}}&title={{title}}",counter_url:i.scheme+"://api.tumblr.com/v2/share/stats?url={{url}}",counter:0,title:"Tumblr",attributes:["title","text"]}},n={},n.x=function(){var t,e,n,r,o;if("undefined"!=typeof XMLHttpRequest&&null!==XMLHttpRequest)return new XMLHttpRequest;for(r=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],o=null,e=0,n=r.length;e<n;e++){t=r[e];try{o=new ActiveXObject(r[t]);break}catch(i){}}return o},n.send=function(t,e,r,o,i,l){var u;return u=n.x(),u.open(r,t,i),u.onreadystatechange=function(){if(4===u.readyState)return e(u.responseText,l)},"POST"===r&&u.setRequestHeader("Content-type","application/json"),u.send(o)},n.get=function(t,e,r,o,i){var l,u;u=[];for(l in e)u.push(encodeURIComponent(l)+"="+encodeURIComponent(e[l]));return u.length&&(t+="?"+u.join("&")),n.send(t,r,"GET",null,o,i)},n.post=function(t,e,r,o,i){var l;return l=[],n.send(t,r,"POST",JSON.stringify(e),o,i)},t.prototype.clearWidgets=function(){var t,e,n,r,o;if(null!=document.querySelectorAll(".share-it-widget")){for(r=document.querySelectorAll(".share-it-widget"),o=[],e=0,n=r.length;e<n;e++)t=r[e],o.push(t.classList.remove("share-it-widget"));return o}},t.prototype.init=function(){var t,e,n;e=[];for(n in l)t=document.querySelectorAll(".share-it-buttons ."+n),t.length&&e.push(this.initTypeButtons(t,n));return e},t.prototype.initTypeButtons=function(t,e){var n,r,o,i;for(i=[],n=r=0,o=t.length;0<=o?r<o:r>o;n=0<=o?++r:--r)i.push(this.button(t.item(n),e));return i},t.prototype.button=function(t,e){var n,r,o,u,a,c;if(null!=t&&!t.classList.contains("share-it-widget"))return r=document.createElement("span"),r.className="share-icon",n=document.createElement("span"),a=this.getShareUrl(e,t),u=document.createTextNode(t.dataset.text||l[e].title),n.className="sharing-button",n.appendChild(u),t.innerHTML="",("true"===t.parentElement.dataset.titles||i.titles&&null==t.parentElement.dataset.titles)&&(t.title=t.getAttribute("title")||i.button_title+l[e].title),t.className+=" share-it-widget",c=this.generateWindowOptions(t),t.onclick=function(){return window.open(a,"",c)},t.appendChild(r),t.appendChild(n),o=t.dataset.url||t.parentElement.dataset.url||i.url,"true"===t.parentElement.dataset.counters||i.counters&&null==t.parentElement.dataset.counters?(null==window.sharingButtons[e]&&(window.sharingButtons[e]=0),this.createCounter(e,t,o)):void 0},t.prototype.getShareUrl=function(t,n,r){var o,u,a,c,s;s=n.dataset.url||n.parentElement.dataset.url||i.url,r=n.dataset.title||n.parentElement.dataset.title||i.title,u=n.dataset.description||n.parentElement.dataset.description||r,/^(https?):\/\//i.test(s)||"http://".indexOf(s)!==-1||(s="http://"+s),o=l[t].url,null!=s&&(o=o.replace("{{url}}",s)),null!=r&&(o=o.replace("{{title}}",encodeURIComponent(r))),null!=u&&(o=o.replace("{{description}}",encodeURIComponent(u))),c=[];for(a in n.dataset)null!=l[t].attributes&&e.call(l[t].attributes,a)>=0||c.push([a,n.dataset[a]].join("="));return c.length&&(o+="&"+c.join("&")),o},t.prototype.createCounter=function(t,e,n){var r;if(null!=l[t].counter_url&&0!==l[t].counter_url.length)return/^(https?):\/\//i.test(n)||"http://".indexOf(n)!==-1||(n="http://"+n),r=l[t].counter_url,null!=n&&(r=r.replace("{{url}}",encodeURIComponent(n))),window.sharingButtons[t]++,null!=l[t].type&&"ajax"===l[t].type?l[t].getter(t,e,r,n):this.createScript(t,e,r,n)},t.prototype.createScript=function(t,e,n,r){var i,u;return n=n.replace("{{index}}",window.sharingButtons[t]),e.setAttribute("id",t+"-button-"+window.sharingButtons[t]),null!=l[t].skip_gen_callback&&l[t].skip_gen_callback||o(t,window.sharingButtons[t],r),u=document.createElement("script"),u.type="text/javascript",u.id=t+"-"+window.sharingButtons[t]+"-init-script",i=null!=l[t].callback_param?l[t].callback_param:"callback",u.setAttribute("src",n+"&"+i+"="+t+"_"+window.sharingButtons[t]+"_callback"),e.appendChild(u)},t.prototype.generateWindowOptions=function(t){var e,n,r,o;return i.window||"true"===t.parentElement.dataset.window?(o=626,e=436,r=screen.height/2-o/2,n=screen.width/2-e/1.5,"toolbar=0,status=0,width="+o+",height="+e+",top="+r+",left="+n):""},r=function(t,e){var n;if(!(e<=0))return n=document.createElement("span"),n.className="sharing-couter",n.appendChild(document.createTextNode(e)),t.appendChild(n)},o=function(t,e,n){var r,o,i;i=document.createElement("script"),i.type="text/javascript",i.id=t+"-"+e+"-script",r=["function "+t+"_"+e+"_callback(data) {","if (typeof data.response != 'undefined' && typeof data.response.note_count != 'undefined')","{ data.count = data.response.note_count; }","if (typeof data['"+n+"'] != 'undefined' && typeof data['"+n+"']['shares'] != 'undefined')","{ data.count = data['"+n+"']['shares']; }","if (typeof data.count != 'undefined' && data.count > 0) {","var counter = document.createElement('span'); counter.className = 'sharing-couter';","counter.appendChild(document.createTextNode(data.count));","document.getElementById('"+t+"-button-"+e+"').appendChild(counter); }","document.getElementById('"+t+"-"+e+"-init-script').remove();","document.getElementById('"+t+"-"+e+"-script').remove();}"].join(" ");try{return i.appendChild(document.createTextNode(r)),document.body.appendChild(i)}catch(l){return o=l,i.text=r,document.body.appendChild(i)}},t}(),new t}).call(this);